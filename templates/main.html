<!DOCTYPE html>

{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>COVID19 in India</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="{% static 'CSS/style.css' %}">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

</head>
<body>

<nav class="grey darken-4">

    <div class="container">
        <a href="/" class="brand-logo">COVID19 In India</a>

        <!--<ul id="nav-mobile" class="right">-->
        <!--<li><a href="/">Home</a></li>-->
        <!--</ul>-->
    </div>
</nav>

<!--<h1 style="text-align:center;" class="amber-text "> What Do You Want to Search </h1>-->
<br>
<br>
<div class="container">
    <div class="row">
        <div class="col s3">
            <div class="center ">
                <h5 style="text-align:center;" class="amber-text ">Confirmed Cases </h5>
                <i class="medium material-icons light-blue-text">flash_on</i>
                <p>{{c}}</p>

            </div>

        </div>

        <div class="col s3">
            <div class="center ">
                <h5 style="text-align:center;" class="amber-text ">Recovered Cases</h5>
                <i class="medium material-icons light-blue-text">flash_on</i>
                <p>{{r}}</p>

            </div>

        </div>

        <div class="col s3">
            <div class="center ">
                <h5 style="text-align:center;" class="amber-text ">Active cases</h5>
                <i class="medium material-icons light-blue-text">flash_on</i>
                <p>{{a}}</p>
            </div>

        </div>
        <div class="col s3">
            <div class="center ">
                <h5 style="text-align:center;" class="amber-text ">Deaths </h5>
                <i class="medium material-icons light-blue-text">flash_on</i>
                <p>{{d}}</p>

            </div>

        </div>

    </div>

    <div class="row">

            <div class="input-field col s8" >
                <input type="text" name="search" placeholder="search" id="input_text">

            </div>
            <div class="input-field col s3">
                 <button class="btn waves-effect amber"  type="submit" name="action"  onclick="mySearchFunction()">Submit
                    <i class="material-icons right">send</i>
                </button>
            </div>


    </div>

    <div class="row">
        <table id="myTable">
            <thead>
            <tr>
                <th>State/Union Territory</th>
                <th>Cases</th>
                <th>Deaths</th>
                <th>Recoveries</th>
                <th>Active</th>
            </tr>
            </thead>

            <tbody>
            {% for key,val in row.items %}

                <tr>
                    <td>{{key}}</td>
                     {% for i in val %}
                            <td>{{i}}</td>
                    {%endfor%}
                </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>

    <script>
        function mySearchFunction(){

            var input_text = document.getElementById("input_text");
            var filter = input_text.value.toUpperCase();
            var table = document.getElementById("myTable");
            var tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];

                if (td) {
                    txtValue = td.textContent || td.innerText;

                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                  } else {
                    tr[i].style.display = "none";
                  }
                }
            }
        }
    </script>
</div>
</body>
</html>